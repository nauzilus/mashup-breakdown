{"version":3,"sources":["util/clamp.ts","hooks/usePlayer.ts","util/secondsToTime.ts","MashupBreakdown.tsx","hooks/useLocalStorage.ts","App.tsx","index.tsx"],"names":["clamp","min","max","val","getSeek","state","duration","playing","seek","Date","now","ts","reducer","action","type","payload","secondsToTime","seconds","long","floored","Math","floor","s","m","h","concat","map","x","substr","join","Layout","styled","div","MashupBreakdown","albums","key","defaultValue","useState","localStorage","getItem","value","setValue","useEffect","store","useCallback","setItem","useLocalStorage","Object","keys","selected","setSelected","album","tracks","useMemo","reduce","out","track","last","slice","length","samples","end","start","push","title","flatMap","sample","offset","idx","setDuration","zoom","rp","setRp","player","initialSeek","useReducer","dispatch","play","pause","toggle","update","currentSeek","usePlayer","onProgress","data","playedSeconds","id","setInterval","clearInterval","windowStart","windowEnd","lowResStart","lowResEnd","inViewTracks","filter","inViewSamples","url","width","height","onReady","getDuration","onPlay","onPause","onSeek","onEnded","className","active","style","marginLeft","Boolean","left","right","artist","target","rel","href","encodeURIComponent","onClick","marginRight","onChange","e","seekTo","entries","k","v","source","ALBUMS","allDay","feedTheAnimals","nightRipper","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9c1c1c85.chunk.js","sourcesContent":["export function clamp(min: number, max: number, val: number): number {\n  return val < min ? min : val > max ? max : val;\n}\n","import { Reducer, useCallback, useEffect, useMemo, useReducer } from \"react\";\nimport { clamp } from \"../util/clamp\";\n\ninterface PlayerState {\n  playing: boolean;\n  duration: number;\n  seek: number;\n  ts: number;\n}\n\ninterface Action<T extends string> {\n  type: T;\n  ts: number;\n}\ninterface ActionWithPayload<T extends string, TPayload> extends Action<T> {\n  payload: TPayload;\n}\n\ntype PlayAction = Action<\"play\">;\ntype PauseAction = Action<\"pause\">;\ntype ToggleAction = Action<\"toggle\">;\ntype UpdateAction = Action<\"update\">;\ntype SeekAction = ActionWithPayload<\"seek\", number>;\ntype InitAction = ActionWithPayload<\"init\", number>;\ntype PlayerAction =\n  | PlayAction\n  | PauseAction\n  | ToggleAction\n  | UpdateAction\n  | InitAction\n  | SeekAction;\n\nfunction getSeek(state: PlayerState): number {\n  return clamp(\n    0,\n    state.duration,\n    state.playing ? state.seek + (Date.now() - state.ts) / 1000 : state.seek\n  );\n}\n\nfunction reducer(state: PlayerState, action: PlayerAction): PlayerState {\n  const switchAction: PlayerAction = (() => {\n    if (action.type === \"toggle\") {\n      return state.playing\n        ? ({ type: \"pause\" } as PauseAction)\n        : ({ type: \"play\" } as PlayAction);\n    }\n    return action;\n  })();\n\n  switch (switchAction.type) {\n    case \"play\": {\n      return {\n        ...state,\n        playing: true,\n        ts: action.ts,\n      };\n    }\n    case \"pause\": {\n      return {\n        ...state,\n        playing: false,\n        seek: getSeek(state),\n        ts: action.ts,\n      };\n    }\n    case \"update\": {\n      if (state.playing) {\n        const playing = getSeek(state) < state.duration;\n        return {\n          ...state,\n          playing,\n          ...(!playing && {\n            seek: getSeek(state),\n            ts: action.ts,\n          }),\n        };\n      }\n      return state;\n    }\n    case \"init\": {\n      return {\n        duration: (action as InitAction).payload,\n        seek: 0,\n        playing: false,\n        ts: action.ts,\n      };\n    }\n    case \"seek\": {\n      return {\n        ...state,\n        seek: (action as SeekAction).payload,\n        ts: action.ts,\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nexport interface UsePlayerApi {\n  playing: boolean;\n  play: () => void;\n  pause: () => void;\n  toggle: () => void;\n  update: () => void;\n  seek: (seconds: number) => void;\n  currentSeek: () => number;\n}\n\nexport function usePlayer(\n  duration: number,\n  initialSeek = 0,\n  playing = false\n): UsePlayerApi {\n  const [state, dispatch] = useReducer<Reducer<PlayerState, PlayerAction>>(\n    reducer,\n    {\n      playing,\n      duration,\n      seek: initialSeek,\n      ts: Date.now(),\n    }\n  );\n\n  useEffect(() => {\n    dispatch({ type: \"init\", ts: Date.now(), payload: duration });\n  }, [duration]);\n\n  const play = useCallback(\n    () => dispatch({ type: \"play\", ts: Date.now() }),\n    []\n  );\n  const pause = useCallback(\n    () => dispatch({ type: \"pause\", ts: Date.now() }),\n    []\n  );\n  const toggle = useCallback(\n    () => dispatch({ type: \"toggle\", ts: Date.now() }),\n    []\n  );\n  const update = useCallback(\n    () => dispatch({ type: \"update\", ts: Date.now() }),\n    []\n  );\n  const seek = useCallback(\n    (seconds: number) =>\n      dispatch({ type: \"seek\", ts: Date.now(), payload: seconds }),\n    []\n  );\n  const currentSeek = useCallback(() => getSeek(state), [state]);\n\n  return useMemo(\n    () => ({\n      play,\n      pause,\n      toggle,\n      update,\n      seek,\n      currentSeek,\n      playing: state.playing,\n    }),\n    [play, pause, toggle, update, seek, currentSeek, state]\n  );\n}\n","export function secondsToTime(seconds: number, long: boolean = false): string {\n  const floored = Math.floor(seconds);\n  const s = floored % 60;\n  const m = Math.floor(floored / 60) % 60;\n  const h = Math.floor(floored / 3600);\n\n  return (long || h > 0 ? [h] : [])\n    .concat(m, s)\n    .map((x) => `0${x}`.substr(-2))\n    .join(\":\");\n}\n","import {useCallback, useEffect, useMemo, useState} from \"react\";\nimport ReactPlayer from \"react-player\";\nimport styled from \"styled-components\";\nimport {usePlayer} from \"./hooks/usePlayer\";\nimport {clamp} from \"./util/clamp\";\nimport {secondsToTime} from \"./util/secondsToTime\";\nimport {useLocalStorage} from \"./hooks/useLocalStorage\";\n\nexport interface Sample {\n    start: number;\n    end: number;\n    artist: string;\n    title: string;\n}\n\nexport interface Track {\n    title: string;\n    offset: number;\n    samples: Sample[];\n}\n\nexport interface Mashup {\n    artist: string;\n    title: string;\n    url: string;\n    source: string;\n    tracks: Track[];\n}\n\nexport interface MashupBreakdownProps {\n    albums: Record<string, Mashup>;\n}\n\nconst Layout = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n\n  .external-link:after {\n    content: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAQElEQVR42qXKwQkAIAxDUUdxtO6/RBQkQZvSi8I/pL4BoGw/XPkh4XigPmsUgh0626AjRsgxHTkUThsG2T/sIlzdTsp52kSS1wAAAABJRU5ErkJggg==\");\n  }\n\n  > main {\n    flex-grow: 1;\n    background-color: ghostwhite;\n    \n    a.sample {\n      text-decoration: none;\n      color: #333;\n    }\n  }\n\n  > footer {\n    display: flex;\n    justify-content: space-between;\n    padding: 1em 0.5rem;\n    font-size: 0.8em;\n    border-top: 1px solid;\n    border-color: lightgray;\n    background-color: crimson;\n    color: white;\n\n    a {\n      color: white;\n      margin: 0 0.5em;\n    }\n  }\n`;\n\nexport function MashupBreakdown({albums}: MashupBreakdownProps) {\n    const [selected, setSelected] = useLocalStorage('mubd-album', Object.keys(albums)[0]);\n    const album = albums[selected];\n\n    const tracks = useMemo(() => {\n        return album.tracks.reduce<Array<{ title: string; start: number; end: number; length: number }>>((out, track) => {\n            const last = out.slice(-1)[0];\n            const length = Math.max(...track.samples.map((x) => x.end));\n            const start = last ? last.end : 0;\n            const end = start + length;\n            out.push({\n                title: track.title,\n                start,\n                end,\n                length,\n            });\n            return out;\n        }, []);\n    }, [album]);\n\n    const samples = useMemo<Array<Sample & { idx: number }>>(() => {\n        return album.tracks\n            .flatMap((track) => {\n                return track.samples.map((sample) => ({\n                    ...sample,\n                    start: track.offset + sample.start,\n                    end: track.offset + sample.end,\n                }));\n            })\n            .map((sample, idx) => ({...sample, idx}));\n    }, [album]);\n\n    const [duration, setDuration] = useState(0);\n    const [zoom] = useState(20); // seconds to show in the sliding window\n    const [rp, setRp] = useState<ReactPlayer | null>(null);\n    const player = usePlayer(duration);\n    const currentSeek = player.currentSeek();\n    const seek = player.seek;\n\n    const onProgress = useCallback(\n        (data: { playedSeconds: number }) => {\n            seek(data.playedSeconds);\n        },\n        [seek]\n    );\n\n    useEffect(() => {\n        if (player.playing) {\n            const id = setInterval(player.update, 100);\n            return () => {\n                clearInterval(id);\n            };\n        }\n    }, [player.playing, player.update]);\n\n    const windowStart = currentSeek - zoom / 2;\n    const windowEnd = currentSeek + zoom / 2;\n    const lowResStart = Math.floor(windowStart);\n    const lowResEnd = Math.floor(windowEnd);\n\n    const inViewTracks = useMemo(() => {\n        return tracks.filter(\n            (track) =>\n                (track.start <= lowResEnd && track.end >= lowResStart) ||\n                (track.end >= lowResStart && track.start <= lowResEnd)\n        );\n    }, [tracks, lowResStart, lowResEnd]);\n\n    const inViewSamples = useMemo(() => {\n        return samples.filter(\n            (sample) =>\n                (sample.start <= lowResEnd && sample.end >= lowResStart) ||\n                (sample.end >= lowResStart && sample.start <= lowResEnd)\n        );\n    }, [samples, lowResStart, lowResEnd]);\n\n    return (\n        <Layout>\n            {/* @ts-ignore */}\n            <ReactPlayer\n                playing={player.playing}\n                url={album.url}\n                width=\"100%\"\n                height=\"200px\"\n                onReady={(rp) => {\n                    setRp(rp);\n                    setDuration(rp.getDuration())\n                }}\n                onPlay={player.play}\n                onPause={player.pause}\n                onProgress={onProgress}\n                onSeek={player.seek}\n                onEnded={player.pause}\n            />\n            {duration > 0 && (\n                <>\n                    <main className=\"seek-window\">\n                        <div className=\"seek-tracks\">\n                            {inViewTracks.map((track) => {\n                                const active = track.start <= currentSeek && track.end >= currentSeek;\n                                const start = Math.max(windowStart, track.start);\n                                const end = Math.min(windowEnd, track.end);\n                                const width = clamp(0, 100, ((end - start) / zoom) * 100);\n                                const offset =\n                                    windowStart < 0 ? (-windowStart / zoom) * 100 : 0;\n\n                                return (\n                                    <div\n                                        key={track.title}\n                                        style={{width: `${width}%`, marginLeft: `${offset}%`}}\n                                        className={[\"sample track\", active && \"active\"]\n                                            .filter(Boolean)\n                                            .join(\" \")}\n                                    >\n                                        <div className=\"description\">{track.title}</div>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                        <div className=\"seek-samples\">\n                            {inViewSamples.map((sample) => {\n                                const active = sample.start <= currentSeek && sample.end >= currentSeek;\n                                const left =\n                                    sample.start <= windowStart\n                                        ? 0\n                                        : clamp(\n                                            0,\n                                            100,\n                                            ((sample.start - windowStart) / zoom) * 100\n                                        );\n\n                                const right =\n                                    sample.end >= windowEnd\n                                        ? 0\n                                        : clamp(0, 100, ((windowEnd - sample.end) / zoom) * 100);\n\n                                const title = `${sample.artist}, ${sample.title}`;\n                                return (\n                                    <a\n                                        key={sample.idx}\n\n                                        target=\"_blank\"\n                                        rel=\"noreferrer\"\n                                        href={`https://www.google.com/search?btnI&q=${encodeURIComponent(`site:youtube.com ${title}`)}`}\n                                        onClick={() => player.pause()}\n\n                                        style={{marginLeft: `${left}%`, marginRight: `${right}%`}}\n                                        className={[\"sample\", active && \"active\"]\n                                            .filter(Boolean)\n                                            .join(\" \")}\n                                    >\n                                        <div className=\"description\">\n                                                {title} <i className=\"external-link\"/>\n                                            <br/>\n                                            <small>\n                                                {secondsToTime(sample.start)}&mdash;\n                                                {secondsToTime(sample.end)}\n                                            </small>\n                                        </div>\n                                    </a>\n                                );\n                            })}\n                        </div>\n                    </main>\n                    <footer>\n                        <select defaultValue={selected} onChange={e => {\n                            player.pause();\n                            rp?.seekTo(0);\n                            setSelected(e.target.value)\n                        }}>\n                            {Object.entries(albums).map(([k, v]) => <option key={k} value={k}>{v.title}</option>)}\n                        </select>\n                        <div>\n                            sauce:\n                            <a href={album.source} target=\"_blank\" rel=\"noreferrer\">\n                                timings\n                            </a>\n                            <a href=\"https://favicon.io/\" target=\"_blank\" rel=\"noreferrer\">\n                                favicon\n                            </a>\n                        </div>\n                    </footer>\n                </>\n            )}\n        </Layout>\n    );\n}\n","import {useCallback, useEffect, useState} from \"react\";\n\nexport type UseLocalStorage = [string, (value: string) => void];\n\nexport function useLocalStorage(key: string, defaultValue: string): UseLocalStorage {\n    const [value, setValue] = useState(() => localStorage.getItem(key) || defaultValue);\n\n    useEffect(() => {\n        setValue(localStorage.getItem(key) || defaultValue);\n    }, [key, defaultValue]);\n\n    const store = useCallback((value: string) => {\n        setValue(value);\n        localStorage.setItem(key, value);\n    }, [key]);\n\n    return [value, store];\n}","import React from \"react\";\nimport allDay from \"./data/girl-talk_all-day.json\";\nimport feedTheAnimals from \"./data/girl-talk_feed-the-animals.json\";\nimport nightRipper from \"./data/girl-talk_night-ripper.json\";\nimport { MashupBreakdown } from \"./MashupBreakdown\";\n\nconst ALBUMS = {allDay, feedTheAnimals, nightRipper};\n\nfunction App() {\n  return <MashupBreakdown albums={ALBUMS}/>;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./App.css\";\n// import reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals(console.debug);\n"],"sourceRoot":""}